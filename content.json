{"meta":{"title":"MoMik's Blog","subtitle":null,"description":"疑似仙云坠庭柯，玉树云云开玉娥，随风摇落千山雪，怎惧日冷奈汝何？","author":"MoMik","url":""},"pages":[{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2019-04-24T14:22:17.329Z","comments":false,"path":"about/index.html","permalink":"/about/index.html","excerpt":"","text":"[さくら荘のhojun] 与&nbsp; Mashiro&nbsp; （ 真（ま）白（しろ） ） 对话中... function bot_ui_ini() { var botui = new BotUI(\"hello-mashiro\"); botui.message.add({ delay: 800, content: \"Hi, there111👋\" }).then(function () { botui.message.add({ delay: 1100, content: \"这里是 Mashiro\" }).then(function () { botui.message.add({ delay: 1100, content: \"一个可爱的蓝孩子~\" }).then(function () { botui.action.button({ delay: 1600, action: [{ text: \"然后呢？ 😃\", value: \"sure\" }, { text: \"少废话！ 🙄\", value: \"skip\" }] }).then(function (a) { \"sure\" == a.value && sure(); \"skip\" == a.value && end() }) }) }) }); var sure = function () { botui.message.add({ delay: 600, content: \"😘\" }).then(function () { secondpart() }) }, end = function () { botui.message.add({ delay: 600, content: \"![...](https://view.moezx.cc/images/2018/05/06/a1c4cd0452528b572af37952489372b6.md.jpg)\" }) }, secondpart = function () { botui.message.add({ delay: 1500, content: \"目前就读于上海财经大学\" }).then(function () { botui.message.add({ delay: 1500, content: \"向往技术却误入商科，但后来喜欢上了经济学…\" }).then(function () { botui.message.add({ delay: 1200, content: \"因为数据分析也需要Coder嘛\" }).then(function () { botui.message.add({ delay: 1500, content: \"主攻 R 语言和 Python，略懂 STATA，偶尔也折腾 HTML/CSS/JavaScript/PHP\" }).then(function () { botui.message.add({ delay: 1500, content: \"研究的方向，是经济/金融方向的数据分析（data science）以及机器学习（machine learning）\" }).then(function () { botui.message.add({ delay: 1800, content: \"喜欢画画，希望有一天能够被称为画师\" }).then(function () { botui.action.button({ delay: 1100, action: [{ text: \"为什么叫Mashiro呢？ 🤔\", value: \"why-mashiro\" }] }).then(function (a) { thirdpart() }) }) }) }) }) }) }) }, thirdpart = function () { botui.message.add({ delay: 1E3, content: \"Mashiro以及站名都来自一部动画，因为和主角有一样的爱好~ 如果有兴趣可以找找首页上的视频~\" }).then(function () { botui.action.button({ delay: 1500, action: [{ text: \"为什么是白猫呢？ 🤔\", value: \"why-cat\" }] }).then(function (a) { fourthpart() }) }) }, fourthpart = function () { botui.message.add({ delay: 1E3, content: \"因为对GitHub有种执念… \" }).then(function () { botui.message.add({ delay: 1100, content: \"而且我真的是猫控！\" }).then(function () { botui.action.button({ delay: 1500, action: [{ text: \"域名有什么含意吗？(ง •_•)ง\", value: \"why-domain\" }] }).then(function (a) { fifthpart() }) }) }) }, fifthpart = function () { botui.message.add({ delay: 1E3, content: \"emmmm，看备案信息你就知道了=.= 本来想要zheng.xin的，但50万真买不起。。\" }).then(function () { botui.message.add({ delay: 1600, content: \"那么，仔细看看我的博客吧？ ^_^\" }) }) } } bot_ui_ini()","keywords":"关于"},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2019-04-24T14:22:17.330Z","comments":false,"path":"bangumi/index.html","permalink":"/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2019-04-24T14:22:17.330Z","comments":false,"path":"client/index.html","permalink":"/client/index.html","excerpt":"","text":"直接下载 or 扫码下载：","keywords":"Android客户端"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2019-04-24T14:22:17.331Z","comments":true,"path":"comment/index.html","permalink":"/comment/index.html","excerpt":"","text":"念两句诗 叙别梦、扬州一觉。 【宋代】吴文英《夜游宫·人去西楼雁杳》","keywords":"留言板"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2019-04-24T14:22:17.331Z","comments":false,"path":"donate/index.html","permalink":"/donate/index.html","excerpt":"","text":"","keywords":"谢谢饲主了喵~"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2019-04-24T14:22:17.332Z","comments":false,"path":"lab/index.html","permalink":"/lab/index.html","excerpt":"","text":"sakura主题balabala","keywords":"Lab实验室"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2019-04-24T14:22:17.332Z","comments":true,"path":"links/index.html","permalink":"/links/index.html","excerpt":"","text":"","keywords":"友人帐"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2019-04-24T14:22:17.332Z","comments":false,"path":"music/index.html","permalink":"/music/index.html","excerpt":"","text":"","keywords":"喜欢的音乐"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2019-04-24T14:22:17.333Z","comments":true,"path":"rss/index.html","permalink":"/rss/index.html","excerpt":"","text":""},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2019-04-24T14:22:17.333Z","comments":true,"path":"tags/index.html","permalink":"/tags/index.html","excerpt":"","text":""},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2019-04-24T14:22:17.334Z","comments":false,"path":"theme-sakura/index.html","permalink":"/theme-sakura/index.html","excerpt":"","text":"Hexo主题Sakura修改自WordPress主题Sakura，感谢原作者Mashiro","keywords":"Hexo 主题 Sakura 🌸"},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2019-04-24T14:22:17.334Z","comments":false,"path":"video/index.html","permalink":"/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: '朝花夕誓——于离别之朝束起约定之花', status: '已追完', progress: 100, jp: 'さよならの朝に約束の花をかざろう', time: '放送时间: 2018-02-24 SUN.', desc: ' 住在远离尘嚣的土地，一边将每天的事情编织成名为希比欧的布，一边静静生活的伊欧夫人民。在15岁左右外表就停止成长，拥有数百年寿命的他们，被称为“离别的一族”，并被视为活着的传说。没有双亲的伊欧夫少女玛奇亚，过着被伙伴包围的平稳日子，却总感觉“孤身一人”。他们的这种日常，一瞬间就崩溃消失。追求伊欧夫的长寿之血，梅萨蒂军乘坐着名为雷纳特的古代兽发动了进攻。在绝望与混乱之中，伊欧夫的第一美女蕾莉亚被梅萨蒂带走，而玛奇亚暗恋的少年克里姆也失踪了。玛奇亚虽然总算逃脱了，却失去了伙伴和归去之地……。' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: '朝花夕誓——于离别之朝束起约定之花', status: '已追完', progress: 100, jp: 'さよならの朝に約束の花をかざろう', time: '2018-02-24 SUN.', desc: ' 住在远离尘嚣的土地，一边将每天的事情编织成名为希比欧的布，一边静静生活的伊欧夫人民。在15岁左右外表就停止成长，拥有数百年寿命的他们，被称为“离别的一族”，并被视为活着的传说。没有双亲的伊欧夫少女玛奇亚，过着被伙伴包围的平稳日子，却总感觉“孤身一人”。他们的这种日常，一瞬间就崩溃消失。追求伊欧夫的长寿之血，梅萨蒂军乘坐着名为雷纳特的古代兽发动了进攻。在绝望与混乱之中，伊欧夫的第一美女蕾莉亚被梅萨蒂带走，而玛奇亚暗恋的少年克里姆也失踪了。玛奇亚虽然总算逃脱了，却失去了伙伴和归去之地……。' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} 番组计划 这里将是永远的回忆 window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} 放送时间: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"B站"}],"posts":[{"title":"秒杀系统设计","slug":"秒杀系统设计","date":"2019-12-04T08:27:24.000Z","updated":"2019-12-04T08:28:40.651Z","comments":true,"path":"2019/12/04/秒杀系统设计/","link":"","permalink":"/2019/12/04/秒杀系统设计/","excerpt":"","text":"秒杀需要解决的问题限流：鉴于只有少部分用户能够秒杀成功，所以要限制大部分流量，只允许少部分流量进入服务后端。 削峰：对于秒杀系统瞬时的大量用户涌入，所以在抢购开始会有很高的瞬时峰值。实现削峰的常用方法有利用缓存或者消息中间件等技术； 异步处理：对于高并发系统，采用异步处理模式可以极大地提高系统并发量，异步处理就是削峰的一种实现方式； 内存缓存：秒杀系统最大的瓶颈最终都可能会是数据库的读写，主要体现在的磁盘的I/O，性能会很低，如果能把大部分的业务逻辑都搬到缓存来处理，效率会有极大的提升； 可拓展：如果需要支持更多的用户或者更大的并发，将系统设计为弹性可拓展的，如果流量来了，拓展机器就好。","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"树莓派驱动的b站直播点播台依赖安装","slug":"树莓派驱动的b站直播点播台依赖安装","date":"2019-11-06T10:07:59.000Z","updated":"2019-11-06T10:41:11.151Z","comments":true,"path":"2019/11/06/树莓派驱动的b站直播点播台依赖安装/","link":"","permalink":"/2019/11/06/树莓派驱动的b站直播点播台依赖安装/","excerpt":"","text":"pip install colorlog pip install mutagen No such file or directory: ‘./resource/music/‘ 无music目录 无法获取随机文件，./resource/music/为空","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"错误码设计方案","slug":"错误码设计方案","date":"2019-07-19T09:37:18.000Z","updated":"2019-07-19T09:37:09.408Z","comments":true,"path":"2019/07/19/错误码设计方案/","link":"","permalink":"/2019/07/19/错误码设计方案/","excerpt":"","text":"[TOC] #纯错误码:ABBBBCCCC A：错误级别 B：系统识别编码 C：具体功能错误码 例: 0 1000 2110 #仿淘宝客isp.tbkapi-service-unavailable #淘宝客异常排查及错误码文档 HTTP连接错误问题： 请求服务器过程中出现的错误，这类型错误通常由HTTP响应码标记出来，HTTP响应码由三位十进制数字组成，它们出现在由HTTP服务器发送的响应的第一行。响应码分五种类型，由它们的第一位数字表示： 1xx：信息，请求收到，继续处理2xx：成功，行为被成功地接受、理解和采纳3xx：重定向，为了完成请求，必须进一步执行的动作4xx：客户端错误，请求包含语法错误或者请求无法实现5xx：服务器错误，服务器不能实现一种明显无效的请求 开发者调用服务最常收到就是200：http请求成功；404：未找到请求的服务；500内部服务器错误等。如果开发者收到的响应码是404，表示用户的网络有问题，如果开发者收到的响应码是响应码是500，表示网络是正常的但是服务无法响应。 平台级错误问题：请求TOP接入平台出现的错，此时TOP返回的错误码小于100，这种错误一般是由于用户的请求不符合权限，安全，流量和最基本的参数等校验引起的。 业务级错误问题：请求后端业务服务器出现的问题，返回的错误码在500到1000之间。具体的API子错误码及解决方案可参见对应API文档下面的错误码解释。 平台级子错误 子错误码格式 错误信息 归属方 isp.***-service-unavailable 调用后端服务***抛异常，服务不可用 ISP isp.remote-service-error 连接远程服务错误 ISP isp.remote-service-error 连接远程服务超时 ISP isp.remote-connection-error 远程连接错误 ISP isp.null-pointer-exception 空指针异常错误 ISP isp.top-parse-error api解析错误（出现了未被明确控制的异常信息） ISP isp.top-remote-connection-timeout top平台连接后端服务超时 ISP isp.top-remote-connection-error top平台连接后端服务错误，找不到服务 ISP isp.top-mapping-parse-error top-mapping转换出错，主要是由于传入参数格式不对 ISP isp.unknown-error top平台连接后端服务抛未知异常信息 ISP 业务级子错误 子错误码格式 错误信息 归属方 isv.###-not-exist:*** 根据***查询不到### ISV isv.missing-parameter:*** 缺少必要的参数*** ISV isv.invalid-paramete:*** 参数***无效，格式不对、非法值、越界等 ISV isv.invalid-permission 权限不够、非法访问 ISV isv.parameters-mismatch:***-and-### 传入的参数***和###不匹配，两者有一定的对应关系 ISV isv.***-service-error:### 调用***服务返回false，业务逻辑错误，###表示具体的错误信息 ISV 例： { &quot;sub_msg&quot;:&quot;非法参数&quot;, &quot;code&quot;:50, &quot;sub_code&quot;:&quot;isv.invalid-parameter&quot;, &quot;msg&quot;:&quot;Remote service error&quot; } isp.tbkapi-service-unavailable","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"使用Spring cloud oauth2时一些问题汇总","slug":"使用Spring-cloud-oauth2时一些问题汇总","date":"2019-07-05T14:19:37.000Z","updated":"2019-08-12T09:05:55.437Z","comments":true,"path":"2019/07/05/使用Spring-cloud-oauth2时一些问题汇总/","link":"","permalink":"/2019/07/05/使用Spring-cloud-oauth2时一些问题汇总/","excerpt":"","text":"一开始使用client模式在浏览器进行访问（GET） http://localhost:8080/oauth/token?grant_type=client_credentials&amp;scope=select&amp;client_id=test&amp;client_secret=123456 出现了 “Bad client credentials” 错误，直观感觉是自己的client_id和client_secret填写的和配置的不匹配，然后检查了下这两个参数发现并没有错。那么这个猜测先挂起，先去控制台看看有没有什么可靠信息供我们参考。 果然我每发一次请求都会出现一次”Encoded password does not look like BCrypt”，意思是说我们的密码加密类型不是BCrypt。然后百度下这个问题，大部分都是说要配置一个BCryptPasswordEncoder类型的Bean，但是实际上我是配了的。既然这个走不通，我们再回过头结合一下上面挂起的猜测，可以确定以下几点： 1、client_id、client_secret 存在问题 2、密码加密类型不对 大家都知道client模式的client_id、client_secret其实就是对应的用户名和密码，这样我们就可以确定问题了：因为加密类型不正确/没有加密 导致client_secret不匹配。 找到设置client_secret值的地方 果然我们的secret并没加密，查看官方文档得知是因为springsecurity在最新版本升级后,默认把之前的明文密码方式给去掉了官方文档说明。 既然明文不行，我们就按照它的要求加密一下呗:new BCryptPasswordEncoder().encode(&quot;123456&quot;) 重启后再次访问:http://localhost:8080/oauth/token?grant_type=client_credentials&amp;scope=select&amp;client_id=test&amp;client_secret=123456 没有GET方法…不过说明接口已经通了，我们使用Postman换成POST请求再试一次 到这里就已经OK了。 本文只是记录在使用oauth2时遇到的问题过程总结，程序具体如何实现不做详细说明。","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"记一次Data truncation: Out of range value for column","slug":"记一次Data truncation: Out of range value for column","date":"2019-07-01T10:27:18.000Z","updated":"2019-07-08T01:36:32.871Z","comments":true,"path":"2019/07/01/记一次Data truncation: Out of range value for column/","link":"","permalink":"/2019/07/01/记一次Data truncation: Out of range value for column/","excerpt":"","text":"今天客户方在使用程序时保存报错，根据他提供的信息来讲始终只有那一条数据保存不进去，具体报的什么错不管是日志还是前端展示上都没有明确体现（这款程序很老先不说，代码写的也贼乱，跑这个项目mac散热飞起…）。所以只能通过数据和调试程序寻找原因了。。。 1、查询数据库对比其他数据，寻找差异 大致看了下，没找到差异（粗心,没注意数据长度） 2、调试程序 代码是直接回滚掉的，try-catch也没加，哪行报错不知道，sql用的原始jdbc写的一长串sql拼接 以上几点让我没有一点想继续看代码的心情。干脆直接外层加try-catch先确定错误原因是啥。 然后就出现了： Data truncation: Out of range value for column ‘unitPrice’ 很明显的长度问题。扒开数据库找到这个字段 再来看下具体数据： row1 9.600000 总长=7 row2 40.000000 总长=8 row3 40.000000 总长=8 row4 1950.00 总长=10 为什么row4总长为10呢？通过上图我们可以看到unitPrice字段指定长度为decimal(8,6),这里需要注意的是并不是整数位长度为8，小数位长度为6。 在 MySQL 中DECIMAL(P,D)类型： P是表示有效数字数的精度。 P范围为1〜65。 D是表示小数点后的位数。 D的范围是0~30。MySQL要求D小于或等于(&lt;=)P。 拿上面那个例子通俗点讲： 8=全长，即整数位+小数位 6=小数位长度 所以row4=4+6=10 既然知道是长度指定的有问题那么只需要根据自身情况修改下字段长度就可以解决该问题了。","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"jvm学习笔记-类加载机制","slug":"jvm/jvm学习笔记-类加载机制","date":"2019-06-30T04:55:17.000Z","updated":"2019-07-08T01:36:32.867Z","comments":true,"path":"2019/06/30/jvm/jvm学习笔记-类加载机制/","link":"","permalink":"/2019/06/30/jvm/jvm学习笔记-类加载机制/","excerpt":"","text":"加载、","categories":[{"name":"jvm学习笔记","slug":"jvm学习笔记","permalink":"/categories/jvm学习笔记/"}],"tags":[],"keywords":[{"name":"jvm学习笔记","slug":"jvm学习笔记","permalink":"/categories/jvm学习笔记/"}]},{"title":"jvm学习笔记(一)","slug":"jvm/jvm学习笔记（一）","date":"2019-06-26T05:14:16.000Z","updated":"2019-06-26T05:28:12.816Z","comments":true,"path":"2019/06/26/jvm/jvm学习笔记（一）/","link":"","permalink":"/2019/06/26/jvm/jvm学习笔记（一）/","excerpt":"","text":"相关术语单词Deployment Technologles 部署技术 User Interface toolkits 用户界面工具 Integration Libraries 集成库 Othre Base Libraries 其他基本库 Lang and util Base Libraries lang 和 util基本库 Java Virtual Machine Java虚拟机 Platforms 平台 JVM是什么","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"Netty学习一","slug":"netty/Netty学习一","date":"2019-06-06T06:40:16.000Z","updated":"2019-07-02T01:58:50.278Z","comments":true,"path":"2019/06/06/netty/Netty学习一/","link":"","permalink":"/2019/06/06/netty/Netty学习一/","excerpt":"","text":"Channel 1、线程安全 Nio 1、基于java 即跨平台 2、 Epoll 1、Linux本地传输","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"Kafka学习笔记","slug":"Kafka学习笔记","date":"2019-05-09T02:41:22.000Z","updated":"2019-05-09T02:41:42.574Z","comments":true,"path":"2019/05/09/Kafka学习笔记/","link":"","permalink":"/2019/05/09/Kafka学习笔记/","excerpt":"","text":"kafka节点之间如何复制备份的？ kafka消息是否会丢失？为什么？ kafka最合理的配置是什么？ kafka的leader选举机制是什么？ kafka对硬件的配置有什么要求？ kafka的消息保证有几种方式？","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"那些有趣的注释，有没有你曾用过的","slug":"那些有趣的注释，有没有你曾用过的","date":"2019-04-28T05:55:13.000Z","updated":"2019-04-28T06:10:42.540Z","comments":true,"path":"2019/04/28/那些有趣的注释，有没有你曾用过的/","link":"","permalink":"/2019/04/28/那些有趣的注释，有没有你曾用过的/","excerpt":"","text":"第一款：佛祖保佑，永无BUG // _ooOoo_ // o8888888o // 88&quot; . &quot;88 // (| -_- |) // O\\ = /O // ____/`---&#39;\\____ // . &#39; \\\\| |// `. // / \\\\||| : |||// \\ // / _||||| -:- |||||- \\ // | | \\\\\\ - /// | | // | \\_| &#39;&#39;\\---/&#39;&#39; | | // \\ .-\\__ `-` ___/-. / // ___`. .&#39; /--.--\\ `. . __ // .&quot;&quot; &#39;&lt; `.___\\_&lt;|&gt;_/___.&#39; &gt;&#39;&quot;&quot;. // | | : `- \\`.;`\\ _ /`;.`/ - ` : | | // \\ \\ `-. \\_ __\\ /__ _/ .-` / / // ======`-.____`-.___\\_____/___.-`____.-&#39;====== // `=---=&#39; // // ............................................. // 佛祖保佑 永无BUG 第二款：神兽护体，永无BUG // ┏┓ ┏┓ // ┏┛┻━━━┛┻┓ // ┃ ┃ // ┃ ━ ┃ // ┃ ┳┛ ┗┳ ┃ // ┃ ┃ // ┃ ┻ ┃ // ┃ ┃ // ┗━┓ ┏━┛ // ┃ ┃ Code is far away from bug with the animal protecting // ┃ ┃ 神兽保护，永无BUG！ // ┃ ┗━━━┓ // ┃ ┣┓ // ┃ ┏┛ // ┗┓┓┏━┳┓┏┛ // ┃┫┫ ┃┫┫ // ┗┻┛ ┗┻┛ /** * ┏┓ ┏┓+ + * ┏┛┻━━━┛┻┓ + + * ┃ ┃ * ┃ ━ ┃ ++ + + + * ████━████ ┃+ * ┃ ┃ + * ┃ ┻ ┃ * ┃ ┃ + + * ┗━┓ ┏━┛ * ┃ ┃ * ┃ ┃ + + + + * ┃ ┃ Code is far away from bug with the animal protecting * ┃ ┃ + 神兽保佑,永无bug * ┃ ┃ * ┃ ┃ + * ┃ ┗━━━┓ + + * ┃ ┣┓ * ┃ ┏┛ * ┗┓┓┏━┳┓┏┛ + + + + * ┃┫┫ ┃┫┫ * ┗┻┛ ┗┻┛+ + + + */ 第三款：来首程序员打油诗，笑 /** * 江城子 . 程序员之歌 * * 十年生死两茫茫，写程序，到天亮。 * 千行代码，Bug何处藏。 * 纵使上线又怎样，朝令改，夕断肠。 * * 领导每天新想法，天天改，日日忙。 * 相顾无言，惟有泪千行。 * 每晚灯火阑珊处，夜难寐，加班狂。 */ /** * 写字楼里写字间，写字间里程序员； * 程序人员写程序，又拿程序换酒钱。 * 酒醒只在网上坐，酒醉还来网下眠； * 酒醉酒醒日复日，网上网下年复年。 * 但愿老死电脑间，不愿鞠躬老板前； * 奔驰宝马贵者趣，公交自行程序员。 * 别人笑我忒疯癫，我笑自己命太贱； * 不见满街漂亮妹，哪个归得程序员？ */ 第四款：无尽诱惑 // // .::::. // .::::::::. // ::::::::::: // ..:::::::::::&#39; // &#39;::::::::::::&#39; // .:::::::::: // &#39;::::::::::::::.. // ..::::::::::::. // ``:::::::::::::::: // ::::``:::::::::&#39; .:::. // ::::&#39; &#39;:::::&#39; .::::::::. // .::::&#39; :::: .:::::::&#39;::::. // .:::&#39; ::::: .:::::::::&#39; &#39;:::::. // .::&#39; :::::.:::::::::&#39; &#39;:::::. // .::&#39; ::::::::::::::&#39; ``::::. // ...::: ::::::::::::&#39; ``::. // ```` &#39;:. &#39;:::::::::&#39; ::::.. // &#39;.:::::&#39; &#39;:&#39;````.. /** * _.._ ,------------. * ,&#39; `. ( We want you! ) * / __) __` \\ `-,----------&#39; * ( (`-`(-&#39;) ) _.-&#39; * /) \\ = / ( * /&#39; |--&#39; . \\ * ( ,---| `-.)__` * )( `-.,--&#39; _`-. * &#39;/,&#39; ( Uu&quot;, * (_ , `/,-&#39; ) * `.__, : `-&#39;/ /`--&#39; * | `--&#39; | * ` `-._ / * \\ ( * /\\ . \\. * / |` \\ ,-\\ * / \\| .) / \\ * ( ,&#39;|\\ ,&#39; : * | \\,`.`--&quot;/ } * `,&#39; \\ |,&#39; / * / &quot;-._ `-/ | * &quot;-. &quot;-.,&#39;| ; * / _/[&quot;---&#39;&quot;&quot;] * : / |&quot;- &#39; * &#39; | / * ` | */ 第五款：单身狗专用 &lt;!-- :: :;J7, :, ::;7: ,ivYi, , ;LLLFS: :iv7Yi :7ri;j5PL ,:ivYLvr ,ivrrirrY2X, :;r@Wwz.7r: :ivu@kexianli. :iL7::,:::iiirii:ii;::::,,irvF7rvvLujL7ur ri::,:,::i:iiiiiii:i:irrv177JX7rYXqZEkvv17 ;i:, , ::::iirrririi:i:::iiir2XXvii;L8OGJr71i :,, ,,: ,::ir@mingyi.irii:i:::j1jri7ZBOS7ivv, ,::, ::rv77iiiriii:iii:i::,rvLq@huhao.Li ,, ,, ,:ir7ir::,:::i;ir:::i:i::rSGGYri712: ::: ,v7r:: ::rrv77:, ,, ,:i7rrii:::::, ir7ri7Lri , 2OBBOi,iiir;r:: ,irriiii::,, ,iv7Luur: ,, i78MBBi,:,:::,:, :7FSL: ,iriii:::i::,,:rLqXv:: : iuMMP: :,:::,:ii;2GY7OBB0viiii:i:iii:i:::iJqL;:: , ::::i ,,,,, ::LuBBu BBBBBErii:i:i:i:i:i:i:r77ii , : , ,,:::rruBZ1MBBqi, :,,,:::,::::::iiriri: , ,,,,::::i: @arqiao. ,:,, ,:::ii;i7: :, rjujLYLi ,,:::::,:::::::::,, ,:i,:,,,,,::i:iii :: BBBBBBBBB0, ,,::: , ,:::::: , ,,,, ,,::::::: i, , ,8BMMBBBBBBi ,,:,, ,,, , , , , , :,::ii::i:: : iZMOMOMBBM2::::::::::,,,, ,,,,,,:,,,::::i:irr:i:::, i ,,:;u0MBMOG1L:::i:::::: ,,,::, ,,, ::::::i:i:iirii:i:i: : ,iuUuuXUkFu7i:iii:i:::, :,:,: ::::::::i:i:::::iirr7iiri:: : :rk@Yizero.i:::::, ,:ii:::::::i:::::i::,::::iirrriiiri::, : 5BMBBBBBBSr:,::rv2kuii:::iii::,:i:,, , ,,:,:i@petermu., , :r50EZ8MBBBBGOBBBZP7::::i::,:::::,: :,:,::i;rrririiii:: :jujYY7LS0ujJL7r::,::i::,::::::::::::::iirirrrrrrr:ii: ,: :@kevensun.:,:,,,::::i:i:::::,,::::::iir;ii;7v77;ii;i, ,,, ,,:,::::::i:iiiii:i::::,, ::::iiiir@xingjief.r;7:i, , , ,,,:,,::::::::iiiiiiiiii:,:,:::::::::iiir;ri7vL77rrirri:: :,, , ::::::::i:::i:::i:i::,,,,,:,::i:i:::iir;@Secbone.ii::: --&gt; 第六款：骷髅头 /** ************************************************************** * * * .=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-. * * | ______ | * * | .-&quot; &quot;-. | * * | / \\ | * * | _ | | _ | * * | ( \\ |, .-. .-. ,| / ) | * * | &gt; &quot;=._ | )(__/ \\__)( | _.=&quot; &lt; | * * | (_/&quot;=._&quot;=._ |/ /\\ \\| _.=&quot;_.=&quot;\\_) | * * | &quot;=._&quot;(_ ^^ _)&quot;_.=&quot; | * * | &quot;=\\__|IIIIII|__/=&quot; | * * | _.=&quot;| \\IIIIII/ |&quot;=._ | * * | _ _.=&quot;_.=&quot;\\ /&quot;=._&quot;=._ _ | * * | ( \\_.=&quot;_.=&quot; `--------` &quot;=._&quot;=._/ ) | * * | &gt; _.=&quot; &quot;=._ &lt; | * * | (_/ \\_) | * * | | * * &#39;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=&#39; * * * * LASCIATE OGNI SPERANZA, VOI CH&#39;ENTRATE * ************************************************************** */ 第七款：标准键盘 /** * ┌───┐ ┌───┬───┬───┬───┐ ┌───┬───┬───┬───┐ ┌───┬───┬───┬───┐ ┌───┬───┬───┐ * │Esc│ │ F1│ F2│ F3│ F4│ │ F5│ F6│ F7│ F8│ │ F9│F10│F11│F12│ │P/S│S L│P/B│ ┌┐ ┌┐ ┌┐ * └───┘ └───┴───┴───┴───┘ └───┴───┴───┴───┘ └───┴───┴───┴───┘ └───┴───┴───┘ └┘ └┘ └┘ * ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───────┐ ┌───┬───┬───┐ ┌───┬───┬───┬───┐ * │~ `│! 1│@ 2│# 3│$ 4│% 5│^ 6│&amp; 7│* 8│( 9│) 0│_ -│+ =│ BacSp │ │Ins│Hom│PUp│ │N L│ / │ * │ - │ * ├───┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─────┤ ├───┼───┼───┤ ├───┼───┼───┼───┤ * │ Tab │ Q │ W │ E │ R │ T │ Y │ U │ I │ O │ P │{ [│} ]│ | \\ │ │Del│End│PDn│ │ 7 │ 8 │ 9 │ │ * ├─────┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴┬──┴─────┤ └───┴───┴───┘ ├───┼───┼───┤ + │ * │ Caps │ A │ S │ D │ F │ G │ H │ J │ K │ L │: ;│&quot; &#39;│ Enter │ │ 4 │ 5 │ 6 │ │ * ├──────┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴─┬─┴────────┤ ┌───┐ ├───┼───┼───┼───┤ * │ Shift │ Z │ X │ C │ V │ B │ N │ M │&lt; ,│&gt; .│? /│ Shift │ │ ↑ │ │ 1 │ 2 │ 3 │ │ * ├─────┬──┴─┬─┴──┬┴───┴───┴───┴───┴───┴──┬┴───┼───┴┬────┬────┤ ┌───┼───┼───┐ ├───┴───┼───┤ E││ * │ Ctrl│ │Alt │ Space │ Alt│ │ │Ctrl│ │ ← │ ↓ │ → │ │ 0 │ . │←─┘│ * └─────┴────┴────┴───────────────────────┴────┴────┴────┴────┘ └───┴───┴───┘ └───────┴───┴───┘ */ 第八款：顶 /** * 頂頂頂頂頂頂頂頂頂 頂頂頂頂頂頂頂頂頂 * 頂頂頂頂頂頂頂 頂頂 * 頂頂 頂頂頂頂頂頂頂頂頂頂頂 * 頂頂 頂頂頂頂頂頂頂頂頂頂頂 * 頂頂 頂頂 頂頂 * 頂頂 頂頂 頂頂頂 頂頂 * 頂頂 頂頂 頂頂頂 頂頂 * 頂頂 頂頂 頂頂頂 頂頂 * 頂頂 頂頂 頂頂頂 頂頂 * 頂頂 頂頂頂 * 頂頂 頂頂 頂頂 頂頂 * 頂頂頂頂 頂頂頂頂頂 頂頂頂頂頂 * 頂頂頂頂 頂頂頂頂 頂頂頂頂 */ 还有一些其他有趣搞怪的注释 /** * _ooOoo_ * o8888888o * 88&quot; . &quot;88 * (| -_- |) * O\\ = /O * ___/`---&#39;\\____ * . &#39; \\\\| |// `. * / \\\\||| : |||// \\ * / _||||| -:- |||||- \\ * | | \\\\\\ - /// | | * | \\_| &#39;&#39;\\---/&#39;&#39; | | * \\ .-\\__ `-` ___/-. / * ___`. .&#39; /--.--\\ `. . __ * .&quot;&quot; &#39;&lt; `.___\\_&lt;|&gt;_/___.&#39; &gt;&#39;&quot;&quot;. * | | : `- \\`.;`\\ _ /`;.`/ - ` : | | * \\ \\ `-. \\_ __\\ /__ _/ .-` / / * ======`-.____`-.___\\_____/___.-`____.-&#39;====== * `=---=&#39; * ............................................. * 佛曰：bug泛滥，我已瘫痪！ */ /** * ,s555SB@@&amp; * :9H####@@@@@Xi * 1@@@@@@@@@@@@@@8 * ,8@@@@@@@@@B@@@@@@8 * :B@@@@X3hi8Bs;B@@@@@Ah, * ,8i r@@@B: 1S ,M@@@@@@#8; * 1AB35.i: X@@8 . SGhr ,A@@@@@@@@S * 1@h31MX8 18Hhh3i .i3r ,A@@@@@@@@@5 * ;@&amp;i,58r5 rGSS: :B@@@@@@@@@@A * 1#i . 9i hX. .: .5@@@@@@@@@@@1 * sG1, ,G53s. 9#Xi;hS5 3B@@@@@@@B1 * .h8h.,A@@@MXSs, #@H1: 3ssSSX@1 * s ,@@@@@@@@@@@@Xhi, r#@@X1s9M8 .GA981 * ,. rS8H#@@@@@@@@@@#HG51;. .h31i;9@r .8@@@@BS;i; * .19AXXXAB@@@@@@@@@@@@@@#MHXG893hrX#XGGXM@@@@@@@@@@MS * s@@MM@@@hsX#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&amp;, * :GB@#3G@@Brs ,1GM@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@B, * .hM@@@#@@#MX 51 r;iSGAM@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@8 * :3B@@@@@@@@@@@&amp;9@h :Gs .;sSXH@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@: * s&amp;HA#@@@@@@@@@@@@@@M89A;.8S. ,r3@@@@@@@@@@@@@@@@@@@@@@@@@@@r * ,13B@@@@@@@@@@@@@@@@@@@5 5B3 ;. ;@@@@@@@@@@@@@@@@@@@@@@@@@@@i * 5#@@#&amp;@@@@@@@@@@@@@@@@@@9 .39: ;@@@@@@@@@@@@@@@@@@@@@@@@@@@; * 9@@@X:MM@@@@@@@@@@@@@@@#; ;31. H@@@@@@@@@@@@@@@@@@@@@@@@@@: * SH#@B9.rM@@@@@@@@@@@@@B :. 3@@@@@@@@@@@@@@@@@@@@@@@@@@5 * ,:. 9@@@@@@@@@@@#HB5 .M@@@@@@@@@@@@@@@@@@@@@@@@@B * ,ssirhSM@&amp;1;i19911i,. s@@@@@@@@@@@@@@@@@@@@@@@@@@S * ,,,rHAri1h1rh&amp;@#353Sh: 8@@@@@@@@@@@@@@@@@@@@@@@@@#: * .A3hH@#5S553&amp;@@#h i:i9S #@@@@@@@@@@@@@@@@@@@@@@@@@A. * * 什么？上面这些都不能满足你，想要找更多的ascii图在这里http://www.asciiworld.com/ 转载自：https://blog.cofess.com/2018/03/28/那些有趣的注释，有没有你曾用过的.html","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"使用lombok时需要注意的地方","slug":"使用lombok时需要注意的地方","date":"2019-04-28T03:54:40.000Z","updated":"2019-04-28T05:05:55.189Z","comments":true,"path":"2019/04/28/使用lombok时需要注意的地方/","link":"","permalink":"/2019/04/28/使用lombok时需要注意的地方/","excerpt":"","text":"集成父类时出现如下警告 Warning:(16, 1) java: Generating equals/hashCode implementation but without a call to superclass, even though this class does not extend java.lang.Object. If this is intentional, add &#39;@EqualsAndHashCode(callSuper=false)&#39; to your type. 原文中提到的大致有以下几点： 此注解会生成equals(Object other) 和 hashCode()方法。 它默认使用非静态，非瞬态的属性 可通过参数exclude排除一些属性 可通过参数of指定仅使用哪些属性 它默认仅使用该类中定义的属性且不调用父类的方法 可通过callSuper=true解决上一点问题。让其生成的方法中调用父类的方法。 另：@Data相当于@Getter @Setter @RequiredArgsConstructor @ToString @EqualsAndHashCode这5个注解的合集。 通过官方文档，可以得知，当使用@Data注解时，则有了@EqualsAndHashCode注解，那么就会在此类中存在equals(Object other) 和 hashCode()方法，且不会使用父类的属性，这就导致了可能的问题。比如，有多个类有相同的部分属性，把它们定义到父类中，恰好id（数据库主键）也在父类中，那么就会存在部分对象在比较时，它们并不相等，却因为lombok自动生成的equals(Object other) 和 hashCode()方法判定为相等，从而导致出错。 修复此问题的方法很简单： 使用@Getter @Setter @ToString代替@Data并且自定义equals(Object other) 和 hashCode()方法，比如有些类只需要判断主键id是否相等即足矣。 或者使用在使用@Data时同时加上@EqualsAndHashCode(callSuper=true)注解。 另外，lombok作者Roel也给出了解决办法，就是通过自定义lombok.config文件来解决。 按照Roel的说法，lombok.config文件需要放在src/main/java文件夹下的目录中（也可以放在实体同级目录下），放在src/main/resources目录下，不会生效。下面，我们通过这种方式来解决这个警告的问题。 config.stopBubbling=true lombok.equalsAndHashCode.callSuper=call","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"架构师成长之路","slug":"架构师成长之路","date":"2019-04-26T10:12:24.000Z","updated":"2019-05-09T01:39:38.888Z","comments":true,"path":"2019/04/26/架构师成长之路/","link":"","permalink":"/2019/04/26/架构师成长之路/","excerpt":"","text":"","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"SpringBoot集成Netty实现百万级的消息推送系统","slug":"SpringBoot集成Netty实现百万级的消息推送系统","date":"2019-04-26T09:58:35.000Z","updated":"2019-04-26T10:11:57.341Z","comments":true,"path":"2019/04/26/SpringBoot集成Netty实现百万级的消息推送系统/","link":"","permalink":"/2019/04/26/SpringBoot集成Netty实现百万级的消息推送系统/","excerpt":"","text":"序言第一次接触物联网项目,这个项目主要的工作就是要有一个系统来支持设备的接入、向设备推送消息（充电、充电完成…）;同时还得满足大量设备接入的需求(想想你家小区的充电桩有多少 )。所以本次分享的内容不但可以满足物联网领域同时还支持以下场景： 基于 WEB 的聊天系统（点对点、群聊）。 WEB 应用中需求服务端推送的场景。 基于 SDK 的消息推送平台。 RE:在做这个项目的时候临时学的Netty,现在对Netty也就是一知半解。本文借鉴了一些优秀的文章,如有重复部分，还请见谅。(后面有时间一定要把Netty搞懂！！！然后写专题!) 为何选择Netty API使用简单，开发门槛低； 功能强大，预置了多种编解码功能，支持多种主流协议； 定制能力强，可以通过ChannelHandler对通信框架进行灵活的扩展； 性能高，通过与其它业界主流的NIO框架对比，Netty的综合性能最优； 成熟、稳定，Netty修复了已经发现的所有JDK NIO BUG，业务开发人员不需要再为NIO的BUG而烦恼； 社区活跃，版本迭代周期短，发现的BUG可以被及时修复，同时，更多的新功能会被加入； 经历了大规模的商业应用考验，质量已经得到验证。在互联网、大数据、网络游戏、企业应用、电信软件等众多行业得到成功商用，证明了它可以完全满足不同行业的商业应用。 参考:1、详看点我2、Netty性能测试对比 SpringBoot集成Netty构建 Netty 服务端构建 Netty 客户端使用 protobuf 构建通信协议protobuf简介为什么要用protobuf怎么使用protobuf定义 protobuf 协议格式使用 .proto编译器编译使用 Java 对应 的 protobuf API来读写消息protobuf的编解码器客户端心跳机制心跳机制简介如何实现心跳机制Netty 实现心跳机制Netty 客户端断线重连服务端空闲检测Controller方法测试","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"POI导出服务设计","slug":"POI导出服务设计","date":"2019-04-26T09:57:53.000Z","updated":"2019-04-26T10:33:27.073Z","comments":true,"path":"2019/04/26/POI导出服务设计/","link":"","permalink":"/2019/04/26/POI导出服务设计/","excerpt":"","text":"序言先让我吐槽3分钟…今天项目经理给我建了一个JIRA”参考其他功能代码编写某某功能的PPT导出” 额 看标题还算比较正经算是码农日常。于是我找到了之前的代码。第一眼给我的感觉就是“这TM是人写的代码？？？” 最基本的封装也只是针对单个业务，也就是说我想写个导出还要把处理导出部分[通用]代码再写一遍，而且代码层次混乱并不利于新进人员快速上手。长叹一声便开始重构这部分导出代码【强迫症】 设计思路首先业务场景是一家做的样衣外贸公司，PPT主要针对样衣资料进行展示发送给客户参考。但是客户并不只有一家，每家给的模版是不相同的也就是说你需要填充的字段会不同。首先一个服务全部搞定不太现实【一个服务就意味着你全部客户代码全部耦合在一起】，这就需要我们将模版服务插件化： 通用数据服务提供 通用业务处理 规范化导出接口 插件化模版导出业务处理 服务分发 通用数据服务提供这部分主要是用来提供通用的数据，说白了就是某些字段会经常出现在很多模版里，又或者如查询产品图片等这些常用数据。目的就是不做重复的查询。 通用数据服务提供用来处理你在“通用数据服务提供”查询到的数据，因为我们查询到的原始数据并不足以应对页面上的要求，需要我们进行特殊处理。 规范化导出接口将导出服务抽象化为一个接口,所有插件（即不同模版导出服务）必须实现该接口。之所以规范化导出接口首先是为了我们能够使用“服务分发”功能，其次是为了代码的整洁性【不要张三起这个方法名李四起那个方法名】 插件化模版导出业务处理针对不同模版提供不同的业务处理，可插拔式封装，一个模版对应一个插件，增加模版即增加插件。 服务分发导出请求发送到后台后，根据需要导出模版的类型启动对应该模版的插件（本文导出服务我们统一叫做插件）和分布式应用的服务网关理念相同。 这里我们利用了Spring对Bean管理的特性，插件是一个被Spring管理的Bean当我们需要这个插件的时候,通过名称从Spring上下文中取出该插件","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"安利一个使用Java开发的爬虫项目","slug":"安利一个使用Java开发的爬虫项目","date":"2019-04-26T09:47:07.000Z","updated":"2019-04-26T10:52:02.907Z","comments":true,"path":"2019/04/26/安利一个使用Java开发的爬虫项目/","link":"","permalink":"/2019/04/26/安利一个使用Java开发的爬虫项目/","excerpt":"序言这个项目是用来负责汇集目标站点信息，便于大家查看、订阅（主要用来采“碍事碍事R”）大致看了下代码写的还不错可以用来当做学习项目参考。具体代码实现等我有空写个解析篇吧","text":"序言这个项目是用来负责汇集目标站点信息，便于大家查看、订阅（主要用来采“碍事碍事R”）大致看了下代码写的还不错可以用来当做学习项目参考。具体代码实现等我有空写个解析篇吧 ShadowSocks-Share示例站点：https://shadowsocks-share.herokuapp.com站点是用herok做的托管有流量限制不保证一定能访问 工作流程如下 项目启动后扫描一次目标站点信息 信息保存至数据库 前台展示、订阅信息 定时扫描目标站点并更新数据（扫描间隔如下） 每小时检测所有账号可用性，并更新账号状态 收集信息网站列表如下 地址 启动时扫描 扫描间隔 https://global.ishadowx.net/ 是 从 0 点 10 分开始，每 3 小时 https://doub.io/sszhfx/ 是 从 0 点 10 分开始，每 6 小时 https://freess.cx/ 是 从 0 点 10 分开始，每 12 小时 https://en.ss8.fun/ 是 从 0 点 10 分开始，每 4 小时 https://freessr.win/ 是 从 0 点 10 分开始，每 6 小时 https://free-ss.site/ 是 从 0 点 10 分开始，每 3 小时 https://www.52ssr.cn/ 是 从 0 点 10 分开始，每 3 小时 https://free.yitianjianss.com/ 是 从 0 点 10 分开始，每 3 小时 https://cloudfra.com/ 是 从 0 点 10 分开始，每 3 小时 接下来作者还准备支持这些站点：https://github.com/max2max/freess/wiki/%E5%85%8D%E8%B4%B9ss%E8%B4%A6%E5%8F%B7 项目Fork项目github仓库点这里","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"MyBatis 通用 Mapper详解","slug":"MyBatis 通用 Mapper详解","date":"2019-04-26T09:47:07.000Z","updated":"2019-04-26T10:17:16.090Z","comments":true,"path":"2019/04/26/MyBatis 通用 Mapper详解/","link":"","permalink":"/2019/04/26/MyBatis 通用 Mapper详解/","excerpt":"","text":"参考：https://mapperhelper.github.io/docs/","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"Heroku云平台部署站点","slug":"Heroku云平台部署站点","date":"2019-04-26T09:33:43.000Z","updated":"2019-04-26T09:38:32.280Z","comments":true,"path":"2019/04/26/Heroku云平台部署站点/","link":"","permalink":"/2019/04/26/Heroku云平台部署站点/","excerpt":"","text":"序言最近在搞这个博客建设中经常要爬墙，每次都要到不同网站获取 “碍事碍事R”真的很麻烦。为了方便于是便有了用Python爬各个网站的共享账号的想法。一开始是奔着自己写的，然后无意间在github上发现了一款开源的项目，顿时有种泪奔的冲动真是帮大忙了，省了我不少时间哈哈?并且通过这个项目让我知道了Heroku。下面简单了解下它 ：Start HerokuHeroku是一个支持多种编程语言的免费云平台，可以很好的满足我们学习/研究/实验/测试的目的，同时，他对Python的支持非常良好。官网 注册注册前需要准备两样东西 爬墙软件（需要爬墙才可以访问 有心人可以本站找到”碍事碍事R”免费账号 ） 谷歌邮箱 (验证账号用的，也可是是其他国外邮箱，实测qq、163都不可以大概国内邮箱都不可以） 注册地址点击这里已经帮各位童鞋翻译成中文了，按照提示填写信息就OK了。然后Heroku就会发送一封认证邮件到你刚刚填写的邮箱地址中。然后就会出现设置密码界面 创建APP在创建应用页面创建一个应用在部署 (Deploy) 页面选择 GitHub，在Connect to GitHub 这一栏连接上你的 GitHub 帐号，搜索并连接你要部署的项目选择一个分支并点击 Deploy Branch部署完毕后，将网页拉到最上面，并点击Open app打开你的网站。至此Heroku部署站点就完成了。","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"基于Redis分布式锁的实现","slug":"基于Redis分布式锁的实现","date":"2019-04-26T09:32:48.000Z","updated":"2019-04-26T10:28:29.305Z","comments":true,"path":"2019/04/26/基于Redis分布式锁的实现/","link":"","permalink":"/2019/04/26/基于Redis分布式锁的实现/","excerpt":"","text":"首先，为了确保分布式锁可用，我们至少要确保锁的实现同时满足以下四个条件： 互斥性。在任意时刻，只有一个客户端能持有锁。 不会发生死锁。即使有一个客户端在持有锁的期间崩溃而没有主动解锁，也能保证后续其他客户端能加锁。 具有容错性。只要大部分的Redis节点正常运行，客户端就可以加锁和解锁。 解铃还须系铃人。加锁和解锁必须是同一个客户端，客户端自己不能把别人加的锁给解了。","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"安装Vue教程","slug":"安装Vue教程","date":"2019-04-26T09:29:22.000Z","updated":"2019-04-26T09:32:26.437Z","comments":true,"path":"2019/04/26/安装Vue教程/","link":"","permalink":"/2019/04/26/安装Vue教程/","excerpt":"","text":"安装VUE之前需要先安装NODE.JS按照下面的顺序执行即可初始化启动一个基本VUE项目 // 安装node.js，内含npm，Node.js官网：https://nodejs.org/en/ 。 // 设置npm镜像cnpm命令行工具 npm install -g cnpm --registry=https://registry.npm.taobao.org // 全局安装 vue-cli cnpm install -g vue-cli // 先创建并进入vue项目目录 cd W:\\Workspaces\\git_repositories\\javalsj-blog-vue // 创建一个基于 webpack 模板的新项目 vue init webpack javalsj-blog-vue // 先进入vue项目目录下再安装该项目的依赖 cd W:\\Workspaces\\git_repositories\\javalsj-blog-vue\\javalsj-blog-vue // 初始化安装项目 cnpm install // 运行项目 npm run dev","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"Ubuntu 16.04 升级Python3.x","slug":"Ubuntu 16.04 升级Python3.x","date":"2019-04-26T09:29:22.000Z","updated":"2019-04-26T10:26:16.606Z","comments":true,"path":"2019/04/26/Ubuntu 16.04 升级Python3.x/","link":"","permalink":"/2019/04/26/Ubuntu 16.04 升级Python3.x/","excerpt":"","text":"序言有个项目需要Python3.5我的服务器系统是Ubuntu 16.04 内置Python2.7版本有点低需要升级至3.x 代码1.首先在ubuntu的终端ternimal输入命令： sudo apt-get install python3 博主选择的是安装python3.5,命令为：sudo apt-get install python3.5输入你的密码后会下载，刚才下载的Python程序被安装在usr/localb/python3.5 中。 2.指定默认打开的是python3.5版本（你新安装的python版本）。安装完成之后，你在终端中输入python，输出的信息里面会提示是2.7版本的，也就是说默认打开的并不是刚才安装好的3.5，所以还需要我们重新修改一下链接。方法如下： 第一步：先备份原来的链接（在对系统执行删除之前进行备份是个好的习惯）。在ternimal下输入命令： sudo cp /usr/bin/python /usr/bin/python_bak 第二步：删除原来默认指向python2.7版本的链接。在ternimal下输入命令： sudo rm /usr/bin/python 第三步：重新指定新的链接给python3.5版本。输入命令： sudo ln -s /usr/bin/python3.5 /usr/bin/python 另：python2.7和3.5版本之间随意切换（这里3.5切换回2.7版本）： sudo rm /usr/bin/python sudo ln -s /usr/bin/python2.7 /usr/bin/python","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"关于Java多线程的理解","slug":"关于Java多线程的理解","date":"2019-04-26T09:27:52.000Z","updated":"2019-04-26T09:28:49.057Z","comments":true,"path":"2019/04/26/关于Java多线程的理解/","link":"","permalink":"/2019/04/26/关于Java多线程的理解/","excerpt":"","text":"首先说到线程就要提一下进程： 一个程序的执行周期就是一个进程 。 不管有多少块CPU，最后都是一块空间进行程序 处理 在单cpu的情况下 多个程序同时执行时就需要对源进行轮番使用就 在传统进程中 在一个程序执行的时候所有的资源只为这一个程序服务 而在现阶段 还是只有一块资源而这一块资源就要被程序轮番占用 一块资源在同一时间段内可能会有多个进程交替执行，但是在某一时间点上只能有一个进程在执行。 多线程线程是在进程的基础上进一步划分，也就是说线程是比进程更小得执行单位。 在服务器应用中 web服务就相当于一个进程，而不同用户访问这个进程就是一个线程，线程拥有自己的对象，而这些线程都是指向同一块堆内存。 并发就是访问的进程量爆高，最直白的问题就是服务器的内存不够用了，无法创建新的用户（线程）。","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"使用微博相册做个人网站CDN图床","slug":"使用微博相册做个人网站CDN图床","date":"2019-04-25T09:39:32.000Z","updated":"2019-04-26T08:46:10.130Z","comments":true,"path":"2019/04/25/使用微博相册做个人网站CDN图床/","link":"","permalink":"/2019/04/25/使用微博相册做个人网站CDN图床/","excerpt":"","text":"#序言今天博主终于从wordpress转到hexo来了，至于为什么要转其实我也不想实在是被wp给逼的！在wp时文章中图片用的是七牛云，相较于其他云存储来说七牛云算是比较够意识的，新注册用户实名认证后送10G免费存储空间，虽然用户上来之后测试域名开始限时，CDN开始收费0.15 元/GB ，但是还是挺划算的🙃 #正文七牛云打算放一些重要文件备份，在搭建hexo时就没有选择七牛云做图床。现在免费可靠的可用于图床的存储空间有：github、gitee、coding、新浪相册通过下面这个表格对比下 存储空间 大小 CDN配合 github 超过1G后官方会发邮件通知 jsdelivr gitee 私有仓库免费5G 免费仓库 无 coding 5 个项目数、128M 仓库容量 无 新浪相册 单目录126个文件、大小不限 新浪CDN","categories":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}],"tags":[],"keywords":[{"name":"自学教程","slug":"自学教程","permalink":"/categories/自学教程/"}]},{"title":"Hexo-Theme-Sakura","slug":"Hexo-Theme-Sakura - 副本","date":"2018-12-12T14:16:01.000Z","updated":"2019-04-26T06:39:26.988Z","comments":true,"path":"2018/12/12/Hexo-Theme-Sakura - 副本/","link":"","permalink":"/2018/12/12/Hexo-Theme-Sakura - 副本/","excerpt":"","text":"hexo-theme-sakura主题 English document 基于WordPress主题Sakura修改成Hexo的主题。 demo预览 正在开发中…… 交流群若你是使用者，加群QQ: 801511924 若你是创作者，加群QQ: 194472590 主题特性 首页大屏视频 首页随机封面 图片懒加载 valine评论 fancy-box相册 pjax支持，音乐不间断 aplayer音乐播放器 多级导航菜单（按现在大部分hexo主题来说，这也算是个特性了） 赞赏作者如果喜欢hexo-theme-sakura主题，可以考虑资助一下哦~非常感激！ paypal | Alipay 支付宝 | WeChat Pay 微信支付 未完善的使用教程那啥？老实说我目前也不是很有条理233333333~ 1、主题下载安装hexo-theme-sakura建议下载压缩包格式，因为除了主题内容还有些source的配置对新手来说比较太麻烦，直接下载解压就省去这些麻烦咯。 下载好后解压到博客根目录（不是主题目录哦，重复的选择替换）。接着在命令行（cmd、bash）运行npm i安装依赖。 2、主题配置博客根目录下的_config配置站点 # Site title: 你的站点名 subtitle: description: 站点简介 keywords: author: 作者名 language: zh-cn timezone: 部署 deploy: type: git repo: github: 你的github仓库地址 # coding: 你的coding仓库地址 branch: master 备份 （使用hexo b发布备份到远程仓库） backup: type: git message: backup my blog of https://honjun.github.io/ repository: # 你的github仓库地址,备份分支名 （建议新建backup分支） github: https://github.com/honjun/honjun.github.io.git,backup # coding: https://git.coding.net/hojun/hojun.git,backup 主题目录下的_config配置其中标明【改】的是需要修改部门，标明【选】是可改可不改，标明【非】是不用改的部分 # site name # 站点名 【改】 prefixName: さくら荘その siteName: hojun # favicon and site master avatar # 站点的favicon和头像 输入图片路径（下面的配置是都是cdn的相对路径，没有cdn请填写完整路径，建议使用jsdeliver搭建一个cdn啦，先去下载我的cdn替换下图片就行了，简单方便~）【改】 favicon: /images/favicon.ico avatar: /img/custom/avatar.jpg # 站点url 【改】 url: https://sakura.hojun.cn # 站点介绍（或者说是个人签名）【改】 description: Live your life with passion! With some drive! # 站点cdn，没有就为空 【改】 若是cdn为空，一些图片地址就要填完整地址了，比如之前avatar就要填https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/custom/avatar.jpg cdn: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6 # 开启pjax 【选】 pjax: 1 # 站点首页的公告信息 【改】 notice: hexo-Sakura主题已经开源，目前正在开发中... # 懒加载的加载中图片 【选】 lazyloadImg: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg # 站点菜单配置 【选】 menus: 首页: { path: /, fa: fa-fort-awesome faa-shake } 归档: { path: /archives, fa: fa-archive faa-shake, submenus: { 技术: {path: /categories/技术/, fa: fa-code }, 生活: {path: /categories/生活/, fa: fa-file-text-o }, 资源: {path: /categories/资源/, fa: fa-cloud-download }, 随想: {path: /categories/随想/, fa: fa-commenting-o }, 转载: {path: /categories/转载/, fa: fa-book } } } 清单: { path: javascript:;, fa: fa-list-ul faa-vertical, submenus: { 书单: {path: /tags/悦读/, fa: fa-th-list faa-bounce }, 番组: {path: /bangumi/, fa: fa-film faa-vertical }, 歌单: {path: /music/, fa: fa-headphones }, 图集: {path: /tags/图集/, fa: fa-photo } } } 留言板: { path: /comment/, fa: fa-pencil-square-o faa-tada } 友人帐: { path: /links/, fa: fa-link faa-shake } 赞赏: { path: /donate/, fa: fa-heart faa-pulse } 关于: { path: /, fa: fa-leaf faa-wrench , submenus: { 我？: {path: /about/, fa: fa-meetup}, 主题: {path: /theme-sakura/, fa: iconfont icon-sakura }, Lab: {path: /lab/, fa: fa-cogs }, } } 客户端: { path: /client/, fa: fa-android faa-vertical } RSS: { path: /atom.xml, fa: fa-rss faa-pulse } # Home page sort type: -1: newer first，1: older first. 【非】 homePageSortType: -1 # Home page article shown number) 【非】 homeArticleShown: 10 # 背景图片 【选】 bgn: 8 # startdash面板 url, title, desc img 【改】 startdash: - {url: /theme-sakura/, title: Sakura, desc: 本站 hexo 主题, img: /img/startdash/sakura.md.png} - {url: http://space.bilibili.com/271849279, title: Bilibili, desc: 博主的b站视频, img: /img/startdash/bilibili.jpg} - {url: /, title: hojun的万事屋, desc: 技术服务, img: /img/startdash/wangshiwu.jpg} # your site build time or founded date # 你的站点建立日期 【改】 siteBuildingTime: 07/17/2018 # 社交按钮(social) url, img PC端配置 【改】 social: github: {url: http://github.com/honjun, img: /img/social/github.png} sina: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/sina.png} wangyiyun: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/wangyiyun.png} zhihu: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/zhihu.png} email: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/email.svg} wechat: {url: /#, qrcode: /img/custom/wechat.jpg, img: /img/social/wechat.png} # 社交按钮(msocial) url, img 移动端配置 【改】 msocial: github: {url: http://github.com/honjun, fa: fa-github, color: 333} weibo: {url: http://weibo.com/mashirozx?is_all=1, fa: fa-weibo, color: dd4b39} qq: {url: https://wpa.qq.com/msgrd?v=3&amp;uin=954655431&amp;site=qq&amp;menu=yes, fa: fa-qq, color: 25c6fe} # 赞赏二维码（其中wechatSQ是赞赏单页面的赞赏码图片）【改】 donate: alipay: /img/custom/donate/AliPayQR.jpg wechat: /img/custom/donate/WeChanQR.jpg wechatSQ: /img/custom/donate/WeChanSQ.jpg # 首页视频地址为https://cdn.jsdelivr.net/gh/honjun/hojun@1.2/Unbroken.mp4，配置如下 【改】 movies: url: https://cdn.jsdelivr.net/gh/honjun/hojun@1.2 # 多个视频用逗号隔开，随机获取。支持的格式目前已知MP4,Flv。其他的可以试下，不保证有用 name: Unbroken.mp4 # 左下角aplayer播放器配置 主要改id和server这两项，修改详见[aplayer文档] 【改】 aplayer: id: 2660651585 server: netease type: playlist fixed: true mini: false autoplay: false loop: all order: random preload: auto volume: 0.7 mutex: true # Valine评论配置【改】 valine: true v_appId: GyC3NzMvd0hT9Yyd2hYIC0MN-gzGzoHsz v_appKey: mgOpfzbkHYqU92CV4IDlAUHQ 分类页和标签页配置分类页 标签页 配置项在\\themes\\Sakura\\languages\\zh-cn.yml里。新增一个分类或标签最好加下哦，当然嫌麻烦可以直接使用一张默认图片（可以改主题或者直接把404图片替换下，征求下意见要不要给这个在配置文件中加个开关，可以issue或群里提出来），现在是没设置的话会使用那种倒立小狗404哦。 #category # 按分类名创建 技术: #中文标题 zh: 野生技术协会 # 英文标题 en: Geek – Only for Love # 封面图片 img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/coding.jpg 生活: zh: 生活 en: live img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/writing.jpg #tag # 标签名即是标题 悦读: # 封面图片 img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/reading.jpg 单页面封面配置如留言板页面页面，位于source下的comment下，打开index.md如下： --- title: comment date: 2018-12-20 23:13:48 keywords: 留言板 description: comments: true # 在这里配置单页面头部图片，自定义替换哦~ photos: https://cdn.jsdelivr.net/gh/honjun/cdn@1.4/img/banner/comment.jpg --- 单页面配置番组计划页 （请直接在下载后的文件中改，下面的添加了注释可能会有些影响） --- layout: bangumi title: bangumi comments: false date: 2019-02-10 21:32:48 keywords: description: bangumis: # 番组图片 - img: https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg # 番组名 title: 朝花夕誓——于离别之朝束起约定之花 # 追番状态 （追番ing/已追完） status: 已追完 # 追番进度 progress: 100 # 番剧日文名称 jp: さよならの朝に約束の花をかざろう # 放送时间 time: 放送时间: 2018-02-24 SUN. # 番剧介绍 desc: 住在远离尘嚣的土地，一边将每天的事情编织成名为希比欧的布，一边静静生活的伊欧夫人民。在15岁左右外表就停止成长，拥有数百年寿命的他们，被称为“离别的一族”，并被视为活着的传说。没有双亲的伊欧夫少女玛奇亚，过着被伙伴包围的平稳日子，却总感觉“孤身一人”。他们的这种日常，一瞬间就崩溃消失。追求伊欧夫的长寿之血，梅萨蒂军乘坐着名为雷纳特的古代兽发动了进攻。在绝望与混乱之中，伊欧夫的第一美女蕾莉亚被梅萨蒂带走，而玛奇亚暗恋的少年克里姆也失踪了。玛奇亚虽然总算逃脱了，却失去了伙伴和归去之地……。 - img: https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg title: 朝花夕誓——于离别之朝束起约定之花 status: 已追完 progress: 50 jp: さよならの朝に約束の花をかざろう time: 放送时间: 2018-02-24 SUN. desc: 住在远离尘嚣的土地，一边将每天的事情编织成名为希比欧的布，一边静静生活的伊欧夫人民。在15岁左右外表就停止成长，拥有数百年寿命的他们，被称为“离别的一族”，并被视为活着的传说。没有双亲的伊欧夫少女玛奇亚，过着被伙伴包围的平稳日子，却总感觉“孤身一人”。他们的这种日常，一瞬间就崩溃消失。追求伊欧夫的长寿之血，梅萨蒂军乘坐着名为雷纳特的古代兽发动了进攻。在绝望与混乱之中，伊欧夫的第一美女蕾莉亚被梅萨蒂带走，而玛奇亚暗恋的少年克里姆也失踪了。玛奇亚虽然总算逃脱了，却失去了伙伴和归去之地……。 --- 友链页 （请直接在下载后的文件中改，下面的添加了注释可能会有些影响） --- layout: links title: links # 创建日期，可以改下 date: 2018-12-19 23:11:06 # 图片上的标题，自定义修改 keywords: 友人帐 description: # true/false 开启/关闭评论 comments: true # 页面头部图片，自定义修改 photos: https://cdn.jsdelivr.net/gh/honjun/cdn@1.4/img/banner/links.jpg # 友链配置 links: # 类型分组 - group: 个人项目 # 类型简介 desc: 充分说明这家伙是条咸鱼 &lt; (￣︶￣)&gt; items: # 友链链接 - url: https://shino.cc/fgvf # 友链头像 img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg # 友链站点名 name: Google # 友链介绍 下面雷同 desc: Google 镜像 - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google 镜像 # 类型分组... - group: 小伙伴们 desc: 欢迎交换友链 ꉂ(ˊᗜˋ) items: - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google 镜像 - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google 镜像 --- 写文章配置主题集成了个人插件hexo-tag-bili和hexo-tag-fancybox_img。其中hexo-tag-bili用来在文章或单页面中插入B站外链视频，使用语法如下： {% bili video_id [page] %} 详细使用教程详见hexo-tag-bili。 hexo-tag-fancybox_img用来在文章或单页面中图片，使用语法如下： {% fb_img src [caption] %} 详细使用教程详见hexo-tag-fancybox_img 还有啥，一时想不起来……To be continued…","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"悦读","slug":"悦读","permalink":"/tags/悦读/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]},{"title":"Hexo-Theme-Sakura","slug":"Hexo-Theme-Sakura","date":"2018-12-12T14:16:01.000Z","updated":"2019-04-26T06:39:12.148Z","comments":true,"path":"2018/12/12/Hexo-Theme-Sakura/","link":"","permalink":"/2018/12/12/Hexo-Theme-Sakura/","excerpt":"","text":"hexo-theme-sakura主题 English document 基于WordPress主题Sakura修改成Hexo的主题。 demo预览 正在开发中…… 交流群若你是使用者，加群QQ: 801511924 若你是创作者，加群QQ: 194472590 主题特性 首页大屏视频 首页随机封面 图片懒加载 valine评论 fancy-box相册 pjax支持，音乐不间断 aplayer音乐播放器 多级导航菜单（按现在大部分hexo主题来说，这也算是个特性了） 赞赏作者如果喜欢hexo-theme-sakura主题，可以考虑资助一下哦~非常感激！ paypal | Alipay 支付宝 | WeChat Pay 微信支付 未完善的使用教程那啥？老实说我目前也不是很有条理233333333~ 1、主题下载安装hexo-theme-sakura建议下载压缩包格式，因为除了主题内容还有些source的配置对新手来说比较太麻烦，直接下载解压就省去这些麻烦咯。 下载好后解压到博客根目录（不是主题目录哦，重复的选择替换）。接着在命令行（cmd、bash）运行npm i安装依赖。 2、主题配置博客根目录下的_config配置站点 # Site title: 你的站点名 subtitle: description: 站点简介 keywords: author: 作者名 language: zh-cn timezone: 部署 deploy: type: git repo: github: 你的github仓库地址 # coding: 你的coding仓库地址 branch: master 备份 （使用hexo b发布备份到远程仓库） backup: type: git message: backup my blog of https://honjun.github.io/ repository: # 你的github仓库地址,备份分支名 （建议新建backup分支） github: https://github.com/honjun/honjun.github.io.git,backup # coding: https://git.coding.net/hojun/hojun.git,backup 主题目录下的_config配置其中标明【改】的是需要修改部门，标明【选】是可改可不改，标明【非】是不用改的部分 # site name # 站点名 【改】 prefixName: さくら荘その siteName: hojun # favicon and site master avatar # 站点的favicon和头像 输入图片路径（下面的配置是都是cdn的相对路径，没有cdn请填写完整路径，建议使用jsdeliver搭建一个cdn啦，先去下载我的cdn替换下图片就行了，简单方便~）【改】 favicon: /images/favicon.ico avatar: /img/custom/avatar.jpg # 站点url 【改】 url: https://sakura.hojun.cn # 站点介绍（或者说是个人签名）【改】 description: Live your life with passion! With some drive! # 站点cdn，没有就为空 【改】 若是cdn为空，一些图片地址就要填完整地址了，比如之前avatar就要填https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/custom/avatar.jpg cdn: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6 # 开启pjax 【选】 pjax: 1 # 站点首页的公告信息 【改】 notice: hexo-Sakura主题已经开源，目前正在开发中... # 懒加载的加载中图片 【选】 lazyloadImg: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg # 站点菜单配置 【选】 menus: 首页: { path: /, fa: fa-fort-awesome faa-shake } 归档: { path: /archives, fa: fa-archive faa-shake, submenus: { 技术: {path: /categories/技术/, fa: fa-code }, 生活: {path: /categories/生活/, fa: fa-file-text-o }, 资源: {path: /categories/资源/, fa: fa-cloud-download }, 随想: {path: /categories/随想/, fa: fa-commenting-o }, 转载: {path: /categories/转载/, fa: fa-book } } } 清单: { path: javascript:;, fa: fa-list-ul faa-vertical, submenus: { 书单: {path: /tags/悦读/, fa: fa-th-list faa-bounce }, 番组: {path: /bangumi/, fa: fa-film faa-vertical }, 歌单: {path: /music/, fa: fa-headphones }, 图集: {path: /tags/图集/, fa: fa-photo } } } 留言板: { path: /comment/, fa: fa-pencil-square-o faa-tada } 友人帐: { path: /links/, fa: fa-link faa-shake } 赞赏: { path: /donate/, fa: fa-heart faa-pulse } 关于: { path: /, fa: fa-leaf faa-wrench , submenus: { 我？: {path: /about/, fa: fa-meetup}, 主题: {path: /theme-sakura/, fa: iconfont icon-sakura }, Lab: {path: /lab/, fa: fa-cogs }, } } 客户端: { path: /client/, fa: fa-android faa-vertical } RSS: { path: /atom.xml, fa: fa-rss faa-pulse } # Home page sort type: -1: newer first，1: older first. 【非】 homePageSortType: -1 # Home page article shown number) 【非】 homeArticleShown: 10 # 背景图片 【选】 bgn: 8 # startdash面板 url, title, desc img 【改】 startdash: - {url: /theme-sakura/, title: Sakura, desc: 本站 hexo 主题, img: /img/startdash/sakura.md.png} - {url: http://space.bilibili.com/271849279, title: Bilibili, desc: 博主的b站视频, img: /img/startdash/bilibili.jpg} - {url: /, title: hojun的万事屋, desc: 技术服务, img: /img/startdash/wangshiwu.jpg} # your site build time or founded date # 你的站点建立日期 【改】 siteBuildingTime: 07/17/2018 # 社交按钮(social) url, img PC端配置 【改】 social: github: {url: http://github.com/honjun, img: /img/social/github.png} sina: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/sina.png} wangyiyun: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/wangyiyun.png} zhihu: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/zhihu.png} email: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/email.svg} wechat: {url: /#, qrcode: /img/custom/wechat.jpg, img: /img/social/wechat.png} # 社交按钮(msocial) url, img 移动端配置 【改】 msocial: github: {url: http://github.com/honjun, fa: fa-github, color: 333} weibo: {url: http://weibo.com/mashirozx?is_all=1, fa: fa-weibo, color: dd4b39} qq: {url: https://wpa.qq.com/msgrd?v=3&amp;uin=954655431&amp;site=qq&amp;menu=yes, fa: fa-qq, color: 25c6fe} # 赞赏二维码（其中wechatSQ是赞赏单页面的赞赏码图片）【改】 donate: alipay: /img/custom/donate/AliPayQR.jpg wechat: /img/custom/donate/WeChanQR.jpg wechatSQ: /img/custom/donate/WeChanSQ.jpg # 首页视频地址为https://cdn.jsdelivr.net/gh/honjun/hojun@1.2/Unbroken.mp4，配置如下 【改】 movies: url: https://cdn.jsdelivr.net/gh/honjun/hojun@1.2 # 多个视频用逗号隔开，随机获取。支持的格式目前已知MP4,Flv。其他的可以试下，不保证有用 name: Unbroken.mp4 # 左下角aplayer播放器配置 主要改id和server这两项，修改详见[aplayer文档] 【改】 aplayer: id: 2660651585 server: netease type: playlist fixed: true mini: false autoplay: false loop: all order: random preload: auto volume: 0.7 mutex: true # Valine评论配置【改】 valine: true v_appId: GyC3NzMvd0hT9Yyd2hYIC0MN-gzGzoHsz v_appKey: mgOpfzbkHYqU92CV4IDlAUHQ 分类页和标签页配置分类页 标签页 配置项在\\themes\\Sakura\\languages\\zh-cn.yml里。新增一个分类或标签最好加下哦，当然嫌麻烦可以直接使用一张默认图片（可以改主题或者直接把404图片替换下，征求下意见要不要给这个在配置文件中加个开关，可以issue或群里提出来），现在是没设置的话会使用那种倒立小狗404哦。 #category # 按分类名创建 技术: #中文标题 zh: 野生技术协会 # 英文标题 en: Geek – Only for Love # 封面图片 img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/coding.jpg 生活: zh: 生活 en: live img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/writing.jpg #tag # 标签名即是标题 悦读: # 封面图片 img: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/banner/reading.jpg 单页面封面配置如留言板页面页面，位于source下的comment下，打开index.md如下： --- title: comment date: 2018-12-20 23:13:48 keywords: 留言板 description: comments: true # 在这里配置单页面头部图片，自定义替换哦~ photos: https://cdn.jsdelivr.net/gh/honjun/cdn@1.4/img/banner/comment.jpg --- 单页面配置番组计划页 （请直接在下载后的文件中改，下面的添加了注释可能会有些影响） --- layout: bangumi title: bangumi comments: false date: 2019-02-10 21:32:48 keywords: description: bangumis: # 番组图片 - img: https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg # 番组名 title: 朝花夕誓——于离别之朝束起约定之花 # 追番状态 （追番ing/已追完） status: 已追完 # 追番进度 progress: 100 # 番剧日文名称 jp: さよならの朝に約束の花をかざろう # 放送时间 time: 放送时间: 2018-02-24 SUN. # 番剧介绍 desc: 住在远离尘嚣的土地，一边将每天的事情编织成名为希比欧的布，一边静静生活的伊欧夫人民。在15岁左右外表就停止成长，拥有数百年寿命的他们，被称为“离别的一族”，并被视为活着的传说。没有双亲的伊欧夫少女玛奇亚，过着被伙伴包围的平稳日子，却总感觉“孤身一人”。他们的这种日常，一瞬间就崩溃消失。追求伊欧夫的长寿之血，梅萨蒂军乘坐着名为雷纳特的古代兽发动了进攻。在绝望与混乱之中，伊欧夫的第一美女蕾莉亚被梅萨蒂带走，而玛奇亚暗恋的少年克里姆也失踪了。玛奇亚虽然总算逃脱了，却失去了伙伴和归去之地……。 - img: https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg title: 朝花夕誓——于离别之朝束起约定之花 status: 已追完 progress: 50 jp: さよならの朝に約束の花をかざろう time: 放送时间: 2018-02-24 SUN. desc: 住在远离尘嚣的土地，一边将每天的事情编织成名为希比欧的布，一边静静生活的伊欧夫人民。在15岁左右外表就停止成长，拥有数百年寿命的他们，被称为“离别的一族”，并被视为活着的传说。没有双亲的伊欧夫少女玛奇亚，过着被伙伴包围的平稳日子，却总感觉“孤身一人”。他们的这种日常，一瞬间就崩溃消失。追求伊欧夫的长寿之血，梅萨蒂军乘坐着名为雷纳特的古代兽发动了进攻。在绝望与混乱之中，伊欧夫的第一美女蕾莉亚被梅萨蒂带走，而玛奇亚暗恋的少年克里姆也失踪了。玛奇亚虽然总算逃脱了，却失去了伙伴和归去之地……。 --- 友链页 （请直接在下载后的文件中改，下面的添加了注释可能会有些影响） --- layout: links title: links # 创建日期，可以改下 date: 2018-12-19 23:11:06 # 图片上的标题，自定义修改 keywords: 友人帐 description: # true/false 开启/关闭评论 comments: true # 页面头部图片，自定义修改 photos: https://cdn.jsdelivr.net/gh/honjun/cdn@1.4/img/banner/links.jpg # 友链配置 links: # 类型分组 - group: 个人项目 # 类型简介 desc: 充分说明这家伙是条咸鱼 &lt; (￣︶￣)&gt; items: # 友链链接 - url: https://shino.cc/fgvf # 友链头像 img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg # 友链站点名 name: Google # 友链介绍 下面雷同 desc: Google 镜像 - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google 镜像 # 类型分组... - group: 小伙伴们 desc: 欢迎交换友链 ꉂ(ˊᗜˋ) items: - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google 镜像 - url: https://shino.cc/fgvf img: https://cloud.moezx.cc/Picture/svg/landscape/fields.svg name: Google desc: Google 镜像 --- 写文章配置主题集成了个人插件hexo-tag-bili和hexo-tag-fancybox_img。其中hexo-tag-bili用来在文章或单页面中插入B站外链视频，使用语法如下： {% bili video_id [page] %} 详细使用教程详见hexo-tag-bili。 hexo-tag-fancybox_img用来在文章或单页面中图片，使用语法如下： {% fb_img src [caption] %} 详细使用教程详见hexo-tag-fancybox_img 还有啥，一时想不起来……To be continued…","categories":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}],"tags":[{"name":"web","slug":"web","permalink":"/tags/web/"},{"name":"悦读","slug":"悦读","permalink":"/tags/悦读/"}],"keywords":[{"name":"技术","slug":"技术","permalink":"/categories/技术/"}]}]}